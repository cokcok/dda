!function(){function t(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],e=!0,r=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(e=(a=c.next()).done)&&(i.push(a.value),!n||i.length!==n);e=!0);}catch(l){r=!0,o=l}finally{try{e||null==c.return||c.return()}finally{if(r)throw o}}return i}(t,i)||function(t,i){if(!t)return;if("string"==typeof t)return n(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n(t,i)}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{HKZA:function(n,e,o){"use strict";o.r(e),o.d(e,"MtdnumberdetailPageModule",function(){return L});var a=o("ofXK"),c=o("3Pt+"),l=o("TEn/"),s=o("tyNb"),u=o("mrSG"),b=o("fXoL"),d=o("mPU2"),m=o("84vV"),f=o("44PX"),h=o("JmBq"),p=o("X0l9");function g(t,n){1&t&&(b.Qb(0,"span",25),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e15\u0e31\u0e27\u0e40\u0e25\u0e02 "),b.Pb())}function v(t,n){1&t&&(b.Qb(0,"span",25),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e02\u0e19\u0e32\u0e14 "),b.Pb())}function y(t,n){1&t&&(b.Qb(0,"span",25),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d "),b.Pb())}function P(t,n){1&t&&(b.Qb(0,"span",25),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e23\u0e32\u0e04\u0e32 "),b.Pb())}function _(t,n){1&t&&(b.Qb(0,"span",25),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e17\u0e35\u0e48\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a\u0e44\u0e14\u0e49 "),b.Pb())}function Q(t,n){if(1&t){var i=b.Rb();b.Qb(0,"ion-item-option",30),b.Yb("click",function(){b.tc(i);var t=b.ac().$implicit;return b.ac().cancelData(t.id)}),b.Lb(1,"ion-icon",31),b.Bc(2," \u0e25\u0e1a "),b.Pb()}}function C(t,n){if(1&t){var i=b.Rb();b.Qb(0,"ion-item-sliding",26),b.Yb("click",function(){b.tc(i);var t=n.$implicit;return b.ac().selectData(t.id)}),b.Qb(1,"ion-item"),b.Qb(2,"ion-label"),b.Qb(3,"ion-text",27),b.Qb(4,"h3"),b.Bc(5),b.Pb(),b.Qb(6,"h3"),b.Bc(7),b.Pb(),b.Pb(),b.Pb(),b.Qb(8,"ion-badge",28),b.Bc(9),b.Pb(),b.Pb(),b.Qb(10,"ion-item-options"),b.zc(11,Q,3,0,"ion-item-option",29),b.Pb(),b.Pb()}if(2&t){var e=n.$implicit;b.hc("ngClass",e.highlight?"newdata":""),b.zb(5),b.Ec("\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02 : ",e.number," \u0e02\u0e19\u0e32\u0e14 : ",e.size_name,""),b.zb(2),b.Ec("\u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d : ",e.qty," \u0e23\u0e32\u0e04\u0e32 : ",e.price,""),b.zb(2),b.Cc(e.id),b.zb(2),b.hc("ngIf",0==e.qty)}}var z,k,q,S=[{path:"",component:(z=function(){function n(t,e,r,o,a,c){var l=this;i(this,n),this.navCtrl=t,this.activatedRoute=e,this.formBuilder=r,this.configSv=o,this.mtdSv=a,this.alertCtrl=c,this.isSubmitted=!1,this.page=0,this.maxpadding=0,this.limit=50,this.data=[],this.activatedRoute.queryParams.subscribe(function(t){var n=JSON.parse(t.value);l.color_id=n[0].id,l.color_name=n[0].color})}return r(n,[{key:"ngOnInit",value:function(){this.portControl=this.formBuilder.control("",c.l.required),this.ionicForm=this.formBuilder.group({id:[""],mtd_number_id:[this.color_id],number:["",[c.l.required]],mtd_size_id:this.portControl,tmpnumber_qty:[{value:0,disabled:!0}],qty:[{value:0,disabled:!0},[c.l.required]],price:["",[c.l.required]],size_name:[""],qty_remain:["100",[c.l.required]],highlight:[""]}),this.loaddata_size(),this.loaddata(this.page)}},{key:"loaddata_size",value:function(){this.ports=[{id:1,size:"\u0e40\u0e25\u0e47\u0e01"},{id:2,size:"\u0e43\u0e2b\u0e0d\u0e48"}]}},{key:"submitForm",value:function(){var n,i=this;if(this.isSubmitted=!0,!this.ionicForm.valid)return console.log("Please provide all the required values!"),!1;n=this.ionicForm.controls.id.value?"update":"insert",this.sub=this.mtdSv.crudmtdnumberdetail(this.ionicForm.value,n).subscribe(function(e){null!==e&&("insert"===n?"ok"===e.status?i.data.unshift({id:e.id,mtd_number_id:i.ionicForm.controls.mtd_number_id.value,number:i.ionicForm.controls.number.value,mtd_size_id:i.ionicForm.controls.mtd_size_id.value.id,size_name:i.ionicForm.controls.mtd_size_id.value.size,qty:i.ionicForm.controls.qty.value,price:i.ionicForm.controls.price.value,qty_remain:i.ionicForm.controls.qty_remain.value,update_flg:0,highlight:!0}):i.configSv.ChkformAlert(e.message):"update"===n&&("ok"===e.status?i.data.filter(function(t){return t.id==e.id}).forEach(function(n){for(var e=0,r=Object.entries(n);e<r.length;e++){var o=t(r[e],2),a=o[0];o[1],"mtd_size_id"===a?n[a]=i.ionicForm.controls[a].value.id:"size_name"===a?n[a]=i.ionicForm.controls.mtd_size_id.value.size:"update_flg"===a?i.ionicForm.controls.qty.enable():n[a]=i.ionicForm.controls[a].value}}):i.configSv.ChkformAlert(e.message)),"ok"===e.status&&i.configSv.ChkformAlert(e.message))},function(t){console.log(JSON.stringify(t))},function(){i.refreshForm()})}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}},{key:"refreshForm",value:function(){this.ionicForm.reset({qty:0,mtd_number_id:this.color_id,qty_remain:100}),this.ionicForm.controls.qty.disable(),this.isSubmitted=!1}},{key:"loaddata",value:function(t,n){var i=this;this.sub=this.mtdSv.getmtd(6,t,this.limit,this.color_id).subscribe(function(t){null!==t&&(i.maxpadding=t.maxpadding,t.limit,i.data=i.data.concat(t.data_detail.map(function(t){return Object.assign({},t)})),n&&n.target.complete())})}},{key:"selectData",value:function(n){var i=this;this.data.filter(function(t){return t.id==n}).forEach(function(n){for(var e=function(){var n=t(o[r],2),e=n[0],a=n[1];if("mtd_size_id"===e){var c=i.ports.filter(function(t){return t.id==a})[0];i.portControl.setValue(c)}else"update_flg"===e?"1"===a?i.ionicForm.controls.qty.disable():i.ionicForm.controls.qty.enable():i.ionicForm.controls[e].setValue(a)},r=0,o=Object.entries(n);r<o.length;r++)e()})}},{key:"cancelData",value:function(t){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertCtrl.create({header:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",message:"\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e40\u0e25\u0e02\u0e23\u0e30\u0e1a\u0e1a\u0e17\u0e35\u0e48 "+t+" ? ",inputs:[{name:"cause",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}],buttons:[{text:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",handler:function(t){console.log("cancel ",t)}},{text:"\u0e15\u0e01\u0e25\u0e07",handler:function(n){n.cause?i.sub=i.mtdSv.crudmtdnumberdetail(t,"cancel",n.cause).subscribe(function(t){i.configSv.ChkformAlert(t.message)},function(t){console.log(JSON.stringify(t))},function(){i.data=i.data.filter(function(n){return n.id!==t}),i.refreshForm()}):i.configSv.ChkformAlert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e14\u0e49\u0e27\u0e22")}}]});case 2:n.sent.present();case 3:case"end":return n.stop()}},n,this)}))}},{key:"doInfinite",value:function(t){this.page++,this.loaddata(this.page*this.limit,t),this.page===this.maxpadding&&(t.target.disabled=!0)}},{key:"errorControl",get:function(){return this.ionicForm.controls}}]),n}(),z.\u0275fac=function(t){return new(t||z)(b.Kb(l.bb),b.Kb(s.a),b.Kb(c.b),b.Kb(d.a),b.Kb(m.a),b.Kb(l.a))},z.\u0275cmp=b.Eb({type:z,selectors:[["app-mtdnumberdetail"]],decls:69,vars:15,consts:[["slot","start"],["slot","primary"],[3,"click"],["slot","icon-only","src","./assets/icons/refresh.svg"],["slot","icon-only","src","./assets/icons/save.svg"],["heading","\u0e41\u0e1a\u0e1a\u0e1f\u0e2d\u0e23\u0e4c\u0e21","id","tab1"],["novalidate","",3,"formGroup"],["type","hidden","formControlName","mtd_number_id"],["fixed",""],["type","text","formControlName","id","disabled","",1,"IDnoshowBG"],["position","floating",1,"showlabel"],["formControlName","number","type","number"],["class","error",4,"ngIf"],["interface","floating","item-content","","formControlName","mtd_size_id","itemValueField","id","itemTextField","size","closeButtonText","\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",3,"items","canSearch"],["formControlName","qty","type","number"],["formControlName","price","type","number"],["formControlName","qty_remain","type","number"],["formControlName","tmpnumber_qty","type","number"],["heading","\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14","id","tab2"],["scrollY","true","id","myFixZone"],["placeholder","\u0e04\u0e49\u0e19\u0e2b\u0e32...","animated","true",3,"ngModel","ngModelChange"],[1,"content_alert"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"error"],[3,"ngClass","click"],["color","primary"],["slot","end","color","success"],["color","danger",3,"click",4,"ngIf"],["color","danger",3,"click"],["slot","end","name","trash"]],template:function(t,n){1&t&&(b.Qb(0,"ion-header"),b.Qb(1,"ion-toolbar"),b.Qb(2,"ion-buttons",0),b.Lb(3,"ion-back-button"),b.Pb(),b.Qb(4,"ion-title"),b.Bc(5),b.Pb(),b.Qb(6,"ion-buttons",1),b.Qb(7,"ion-button",2),b.Yb("click",function(){return n.refreshForm()}),b.Lb(8,"ion-icon",3),b.Pb(),b.Pb(),b.Qb(9,"ion-buttons",1),b.Qb(10,"ion-button",2),b.Yb("click",function(){return n.submitForm()}),b.Lb(11,"ion-icon",4),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(12,"ion-content"),b.Qb(13,"tabset"),b.Qb(14,"tab",5),b.Qb(15,"form",6),b.Lb(16,"input",7),b.Qb(17,"ion-grid",8),b.Qb(18,"ion-row"),b.Qb(19,"ion-col"),b.Bc(20," \u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e1a "),b.Lb(21,"input",9),b.Pb(),b.Pb(),b.Qb(22,"ion-row"),b.Qb(23,"ion-col"),b.Qb(24,"ion-item"),b.Qb(25,"ion-label",10),b.Bc(26,"\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02"),b.Pb(),b.Lb(27,"ion-input",11),b.zc(28,g,2,0,"span",12),b.Pb(),b.Pb(),b.Qb(29,"ion-col"),b.Qb(30,"ion-item"),b.Qb(31,"ion-label",10),b.Bc(32,"\u0e02\u0e19\u0e32\u0e14"),b.Pb(),b.Lb(33,"ionic-selectable",13),b.zc(34,v,2,0,"span",12),b.Pb(),b.Pb(),b.Pb(),b.Qb(35,"ion-row"),b.Qb(36,"ion-col"),b.Qb(37,"ion-item"),b.Qb(38,"ion-label",10),b.Bc(39,"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d"),b.Pb(),b.Lb(40,"ion-input",14),b.zc(41,y,2,0,"span",12),b.Pb(),b.Pb(),b.Qb(42,"ion-col"),b.Qb(43,"ion-item"),b.Qb(44,"ion-label",10),b.Bc(45,"\u0e23\u0e32\u0e04\u0e32"),b.Pb(),b.Lb(46,"ion-input",15),b.zc(47,P,2,0,"span",12),b.Pb(),b.Pb(),b.Qb(48,"ion-col"),b.Qb(49,"ion-item"),b.Qb(50,"ion-label",10),b.Bc(51,"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e17\u0e35\u0e48\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a\u0e44\u0e14\u0e49"),b.Pb(),b.Lb(52,"ion-input",16),b.zc(53,_,2,0,"span",12),b.Pb(),b.Pb(),b.Qb(54,"ion-col"),b.Qb(55,"ion-item"),b.Qb(56,"ion-label",10),b.Bc(57,"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e23\u0e2d\u0e15\u0e31\u0e14\u0e22\u0e2d\u0e14"),b.Pb(),b.Lb(58,"ion-input",17),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(59,"tab",18),b.Qb(60,"div",19),b.Qb(61,"ion-searchbar",20),b.Yb("ngModelChange",function(t){return n.filterTerm=t}),b.Pb(),b.Qb(62,"ion-list"),b.Qb(63,"div",21),b.Bc(64,"**\u0e08\u0e30\u0e25\u0e1a\u0e44\u0e14\u0e49\u0e01\u0e47\u0e15\u0e48\u0e2d\u0e40\u0e21\u0e37\u0e48\u0e2d \u0e22\u0e2d\u0e14\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\u0e40\u0e17\u0e48\u0e32\u0e01\u0e31\u0e1a 0"),b.Pb(),b.zc(65,C,12,7,"ion-item-sliding",22),b.bc(66,"mySearch"),b.Pb(),b.Qb(67,"ion-infinite-scroll",23),b.Yb("ionInfinite",function(t){return n.doInfinite(t)}),b.Lb(68,"ion-infinite-scroll-content",24),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&t&&(b.zb(5),b.Dc("\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02\u0e02\u0e2d\u0e07\u0e2a\u0e35 ",n.color_name,""),b.zb(10),b.hc("formGroup",n.ionicForm),b.zb(13),b.hc("ngIf",n.isSubmitted&&(null==n.errorControl.number.errors?null:n.errorControl.number.errors.required)),b.zb(5),b.hc("items",n.ports)("canSearch",!0),b.zb(1),b.hc("ngIf",n.isSubmitted&&(null==n.errorControl.mtd_size_id.errors?null:n.errorControl.mtd_size_id.errors.required)),b.zb(7),b.hc("ngIf",n.isSubmitted&&(null==n.errorControl.qty.errors?null:n.errorControl.qty.errors.required)),b.zb(6),b.hc("ngIf",n.isSubmitted&&(null==n.errorControl.price.errors?null:n.errorControl.price.errors.required)),b.zb(6),b.hc("ngIf",n.isSubmitted&&(null==n.errorControl.qty_remain.errors?null:n.errorControl.qty_remain.errors.required)),b.zb(8),b.hc("ngModel",n.filterTerm),b.zb(4),b.hc("ngForOf",b.ec(66,11,n.data,n.filterTerm,"number")))},directives:[l.p,l.U,l.h,l.d,l.e,l.T,l.g,l.q,l.m,f.c,f.a,c.m,c.i,c.d,c.a,c.h,c.c,l.o,l.L,l.l,l.v,l.B,l.u,l.db,a.k,h.a,l.M,l.ib,c.j,l.C,a.j,l.s,l.t,l.A,a.i,l.R,l.f,l.z,l.y],pipes:[p.a],styles:[""]}),z)}],F=((k=function t(){i(this,t)}).\u0275mod=b.Ib({type:k}),k.\u0275inj=b.Hb({factory:function(t){return new(t||k)},imports:[[s.j.forChild(S)],s.j]}),k),w=o("CH/f"),B=o("9N89"),L=((q=function t(){i(this,t)}).\u0275mod=b.Ib({type:q}),q.\u0275inj=b.Hb({factory:function(t){return new(t||q)},imports:[[a.b,c.e,l.W,c.k,F,w.a,B.a,f.b]]}),q)},X0l9:function(t,n,e){"use strict";e.d(n,"a",function(){return a});var o=e("fXoL"),a=function(){var t=function(){function t(){i(this,t)}return r(t,[{key:"transform",value:function(n,i,e){return i&&n?t.filter(n,i,e):n}}],[{key:"filter",value:function(t,n,i){var e=n.toLowerCase();return t.filter(null==i?function(t){for(var n in t)if(null!==t[n]&&null!=t[n]&&t[n].toString().toLowerCase().includes(e))return!0;return!1}:function(t){return t[i].toString().toLowerCase().includes(e)})}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=o.Jb({name:"mySearch",type:t,pure:!1}),t}()}}])}();