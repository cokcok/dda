(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{KEwA:function(t,i,e){"use strict";e.r(i),e.d(i,"SysmenuPageModule",function(){return Q});var o=e("ofXK"),n=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),l=e("mrSG"),b=e("fXoL"),c=e("mPU2"),a=e("QmPH"),u=e("cZdB");function d(t,i){1&t&&(b.Qb(0,"span",25),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 TITLE "),b.Pb())}function m(t,i){1&t&&(b.Qb(0,"span",25),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 URL "),b.Pb())}function h(t,i){1&t&&(b.Qb(0,"span",25),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 SEQ "),b.Pb())}function f(t,i){1&t&&(b.Qb(0,"span",25),b.Bc(1," SEQ \u0e15\u0e49\u0e2d\u0e07\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02 "),b.Pb())}function p(t,i){if(1&t){const t=b.Rb();b.Qb(0,"ion-item-sliding",26),b.Yb("click",function(){b.tc(t);const e=i.$implicit;return b.ac().selectData(e.id)}),b.Qb(1,"ion-item"),b.Qb(2,"ion-label"),b.Qb(3,"ion-text",27),b.Qb(4,"h3"),b.Bc(5),b.Pb(),b.Pb(),b.Qb(6,"p"),b.Bc(7),b.Pb(),b.Pb(),b.Qb(8,"ion-badge",28),b.Bc(9),b.Pb(),b.Pb(),b.Qb(10,"ion-item-options"),b.Qb(11,"ion-item-option",29),b.Yb("click",function(){b.tc(t);const e=i.$implicit;return b.ac().cancelData(e.id)}),b.Lb(12,"ion-icon",30),b.Bc(13," \u0e25\u0e1a "),b.Pb(),b.Pb(),b.Pb()}if(2&t){const t=i.$implicit;b.hc("ngClass",t.highlight?"newdata":""),b.zb(5),b.Cc(t.title),b.zb(2),b.Dc("\u0e25\u0e33\u0e14\u0e31\u0e1a ",t.seq,""),b.zb(2),b.Cc(t.id)}}const g=[{path:"",component:(()=>{class t{constructor(t,i,e,o){this.formBuilder=t,this.configSv=i,this.sysmenuSv=e,this.alertCtrl=o,this.isSubmitted=!1,this.page=0,this.maxpadding=0,this.limit=50,this.data=[]}ngOnInit(){this.ionicForm=this.formBuilder.group({id:[""],title:["",[n.l.required]],url:[""],svg:[""],seq:["",[n.l.required,n.l.pattern("^[0-9]+$")]],submenu:[""],highlight:[""]}),this.loaddata(this.page)}get errorControl(){return this.ionicForm.controls}submitForm(){if(this.isSubmitted=!0,!this.ionicForm.valid)return console.log("Please provide all the required values!"),!1;{let t;t=this.ionicForm.controls.id.value?"update":"insert",this.sub=this.sysmenuSv.crudsysmenu(this.ionicForm.value,t).subscribe(i=>{if("insert"===t)this.data.unshift({id:i.id,title:this.ionicForm.controls.title.value,url:this.ionicForm.controls.url.value,svg:this.ionicForm.controls.svg.value,seq:this.ionicForm.controls.seq.value,submenu:this.ionicForm.controls.submenu.value,highlight:!0}),this.refreshForm();else if("update"===t){let t;t=this.data.filter(t=>t.id==i.id),t.forEach(t=>{for(const[i,e]of Object.entries(t))t[i]=this.ionicForm.controls[i].value})}this.configSv.ChkformAlert(i.message)},t=>{console.log(JSON.stringify(t))},()=>{})}}loaddata(t,i){let e;this.sub=this.sysmenuSv.getsysmenu(t,this.limit).subscribe(t=>{if(null!==t){this.maxpadding=t.maxpadding,e=t.limit;for(let i=0;i<e;i++)this.data.push({id:t.data_detail[i].id,title:t.data_detail[i].title,url:t.data_detail[i].url,svg:t.data_detail[i].svg,seq:t.data_detail[i].seq,submenu:t.data_detail[i].submenu});i&&i.target.complete()}})}ngOnDestroy(){this.sub.unsubscribe()}doInfinite(t){this.page++,this.loaddata(this.page*this.limit,t),this.page===this.maxpadding&&(t.target.disabled=!0,this.configSv.ChkformAlert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e41\u0e25\u0e49\u0e27"))}refreshForm(){this.ionicForm.reset(),this.isSubmitted=!1}selectData(t){let i;i=this.data.filter(i=>i.id==t),i.forEach(t=>{for(const[i,e]of Object.entries(t))this.ionicForm.controls[i].setValue(e)})}cancelData(t){return Object(l.a)(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",message:"\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e40\u0e25\u0e02\u0e23\u0e30\u0e1a\u0e1a\u0e17\u0e35\u0e48 "+t+" ? ",inputs:[{name:"cause",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}],buttons:[{text:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",handler:t=>{console.log("cancel ",t)}},{text:"\u0e15\u0e01\u0e25\u0e07",handler:i=>{i.cause?this.sub=this.sysmenuSv.crudsysmenu(t,"cancel",i.cause).subscribe(t=>{this.configSv.ChkformAlert(t.message)},t=>{console.log(JSON.stringify(t))},()=>{this.data=this.data.filter(i=>i.id!==t),this.refreshForm()}):this.configSv.ChkformAlert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e14\u0e49\u0e27\u0e22")}}]})).present()})}}return t.\u0275fac=function(i){return new(i||t)(b.Kb(n.b),b.Kb(c.a),b.Kb(a.a),b.Kb(r.a))},t.\u0275cmp=b.Eb({type:t,selectors:[["app-sysmenu"]],decls:61,vars:10,consts:[["translucent","true"],["slot","start"],["slot","primary"],[3,"click"],["slot","icon-only","src","./assets/icons/refresh.svg"],["slot","icon-only","src","./assets/icons/save.svg"],["novalidate","",3,"formGroup"],["type","text","formControlName","id","disabled","",1,"IDnoshowBG"],["type","hidden","formControlName","highlight"],["lines","full"],["position","floating"],["formControlName","title","type","text"],["class","error",4,"ngIf"],["formControlName","url","type","text"],["formControlName","svg","type","text"],["formControlName","seq","type","number"],["formControlName","submenu","interface","popover","value",""],["value",""],["value","true"],["padding",""],["scrollY","true","id","myFixZone"],["placeholder","\u0e04\u0e49\u0e19\u0e2b\u0e32...","animated","true",3,"ngModel","ngModelChange"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"error"],[3,"ngClass","click"],["color","primary"],["slot","end","color","success"],["color","danger",3,"click"],["slot","end","name","trash"]],template:function(t,i){1&t&&(b.Qb(0,"ion-header",0),b.Qb(1,"ion-toolbar"),b.Qb(2,"ion-title"),b.Bc(3,"\u0e40\u0e21\u0e19\u0e39\u0e2b\u0e25\u0e31\u0e01"),b.Pb(),b.Qb(4,"ion-buttons",1),b.Lb(5,"ion-menu-button"),b.Pb(),b.Qb(6,"ion-buttons",2),b.Qb(7,"ion-button",3),b.Yb("click",function(){return i.refreshForm()}),b.Lb(8,"ion-icon",4),b.Pb(),b.Pb(),b.Qb(9,"ion-buttons",2),b.Qb(10,"ion-button",3),b.Yb("click",function(){return i.submitForm()}),b.Lb(11,"ion-icon",5),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(12,"form",6),b.Qb(13,"ion-grid"),b.Qb(14,"ion-row"),b.Qb(15,"ion-col"),b.Bc(16," \u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e1a "),b.Lb(17,"input",7),b.Lb(18,"input",8),b.Pb(),b.Pb(),b.Qb(19,"ion-row"),b.Qb(20,"ion-col"),b.Qb(21,"ion-item",9),b.Qb(22,"ion-label",10),b.Bc(23,"TITLE"),b.Pb(),b.Lb(24,"ion-input",11),b.zc(25,d,2,0,"span",12),b.Pb(),b.Pb(),b.Qb(26,"ion-col"),b.Qb(27,"ion-item",9),b.Qb(28,"ion-label",10),b.Bc(29,"URL"),b.Pb(),b.Lb(30,"ion-input",13),b.zc(31,m,2,0,"span",12),b.Pb(),b.Pb(),b.Qb(32,"ion-col"),b.Qb(33,"ion-item",9),b.Qb(34,"ion-label",10),b.Bc(35,"SVG"),b.Pb(),b.Lb(36,"ion-input",14),b.Pb(),b.Pb(),b.Qb(37,"ion-col"),b.Qb(38,"ion-item",9),b.Qb(39,"ion-label",10),b.Bc(40,"SEQ"),b.Pb(),b.Lb(41,"ion-input",15),b.zc(42,h,2,0,"span",12),b.zc(43,f,2,0,"span",12),b.Pb(),b.Pb(),b.Qb(44,"ion-col"),b.Qb(45,"ion-item",9),b.Qb(46,"ion-label",10),b.Bc(47,"\u0e21\u0e35\u0e40\u0e21\u0e19\u0e39\u0e22\u0e48\u0e2d\u0e22"),b.Pb(),b.Qb(48,"ion-select",16),b.Qb(49,"ion-select-option",17),b.Bc(50,"\u0e44\u0e21\u0e48\u0e21\u0e35"),b.Pb(),b.Qb(51,"ion-select-option",18),b.Bc(52,"\u0e21\u0e35"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(53,"ion-content",19),b.Qb(54,"div",20),b.Qb(55,"ion-searchbar",21),b.Yb("ngModelChange",function(t){return i.filterTerm=t}),b.Pb(),b.Qb(56,"ion-list"),b.zc(57,p,14,4,"ion-item-sliding",22),b.bc(58,"filter"),b.Pb(),b.Qb(59,"ion-infinite-scroll",23),b.Yb("ionInfinite",function(t){return i.doInfinite(t)}),b.Lb(60,"ion-infinite-scroll-content",24),b.Pb(),b.Pb(),b.Pb()),2&t&&(b.zb(12),b.hc("formGroup",i.ionicForm),b.zb(13),b.hc("ngIf",i.isSubmitted&&(null==i.errorControl.title.errors?null:i.errorControl.title.errors.required)),b.zb(6),b.hc("ngIf",i.isSubmitted&&(null==i.errorControl.url.errors?null:i.errorControl.url.errors.required)),b.zb(11),b.hc("ngIf",i.isSubmitted&&(null==i.errorControl.seq.errors?null:i.errorControl.seq.errors.required)),b.zb(1),b.hc("ngIf",i.isSubmitted&&(null==i.errorControl.seq.errors?null:i.errorControl.seq.errors.pattern)),b.zb(12),b.hc("ngModel",i.filterTerm),b.zb(2),b.hc("ngForOf",b.dc(58,7,i.data,i.filterTerm)))},directives:[r.p,r.U,r.T,r.h,r.F,r.g,r.q,n.m,n.i,n.d,r.o,r.L,r.l,n.a,n.h,n.c,r.v,r.B,r.u,r.ib,o.k,r.db,r.N,r.hb,r.O,r.m,r.M,n.j,r.C,o.j,r.s,r.t,r.A,o.i,r.R,r.f,r.z,r.y],pipes:[u.a],styles:[""]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=b.Ib({type:t}),t.\u0275inj=b.Hb({factory:function(i){return new(i||t)},imports:[[s.j.forChild(g)],s.j]}),t})(),Q=(()=>{class t{}return t.\u0275mod=b.Ib({type:t}),t.\u0275inj=b.Hb({factory:function(i){return new(i||t)},imports:[[o.b,n.e,r.W,n.k,P,u.b]]}),t})()}}]);