(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{HKZA:function(i,t,e){"use strict";e.r(t),e.d(t,"MtdnumberdetailPageModule",function(){return q});var o=e("ofXK"),n=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),l=e("mrSG"),c=e("fXoL"),a=e("mPU2"),b=e("84vV"),d=e("44PX"),u=e("JmBq"),m=e("X0l9");function h(i,t){1&i&&(c.Qb(0,"span",25),c.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e15\u0e31\u0e27\u0e40\u0e25\u0e02 "),c.Pb())}function f(i,t){1&i&&(c.Qb(0,"span",25),c.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e02\u0e19\u0e32\u0e14 "),c.Pb())}function p(i,t){1&i&&(c.Qb(0,"span",25),c.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d "),c.Pb())}function g(i,t){1&i&&(c.Qb(0,"span",25),c.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e23\u0e32\u0e04\u0e32 "),c.Pb())}function P(i,t){1&i&&(c.Qb(0,"span",25),c.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e17\u0e35\u0e48\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a\u0e44\u0e14\u0e49 "),c.Pb())}function _(i,t){if(1&i){const i=c.Rb();c.Qb(0,"ion-item-option",30),c.Yb("click",function(){c.tc(i);const t=c.ac().$implicit;return c.ac().cancelData(t.id)}),c.Lb(1,"ion-icon",31),c.Bc(2," \u0e25\u0e1a "),c.Pb()}}function Q(i,t){if(1&i){const i=c.Rb();c.Qb(0,"ion-item-sliding",26),c.Yb("click",function(){c.tc(i);const e=t.$implicit;return c.ac().selectData(e.id)}),c.Qb(1,"ion-item"),c.Qb(2,"ion-label"),c.Qb(3,"ion-text",27),c.Qb(4,"h3"),c.Bc(5),c.Pb(),c.Qb(6,"h3"),c.Bc(7),c.Pb(),c.Pb(),c.Pb(),c.Qb(8,"ion-badge",28),c.Bc(9),c.Pb(),c.Pb(),c.Qb(10,"ion-item-options"),c.zc(11,_,3,0,"ion-item-option",29),c.Pb(),c.Pb()}if(2&i){const i=t.$implicit;c.hc("ngClass",i.highlight?"newdata":""),c.zb(5),c.Ec("\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02 : ",i.number," \u0e02\u0e19\u0e32\u0e14 : ",i.size_name,""),c.zb(2),c.Ec("\u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d : ",i.qty," \u0e23\u0e32\u0e04\u0e32 : ",i.price,""),c.zb(2),c.Cc(i.id),c.zb(2),c.hc("ngIf",0==i.qty)}}const y=[{path:"",component:(()=>{class i{constructor(i,t,e,o,n,r){this.navCtrl=i,this.activatedRoute=t,this.formBuilder=e,this.configSv=o,this.mtdSv=n,this.alertCtrl=r,this.isSubmitted=!1,this.page=0,this.maxpadding=0,this.limit=50,this.data=[],this.activatedRoute.queryParams.subscribe(i=>{let t=JSON.parse(i.value);this.color_id=t[0].id,this.color_name=t[0].color})}ngOnInit(){this.portControl=this.formBuilder.control("",n.l.required),this.ionicForm=this.formBuilder.group({id:[""],mtd_number_id:[this.color_id],number:["",[n.l.required]],mtd_size_id:this.portControl,tmpnumber_qty:[{value:0,disabled:!0}],qty:[{value:0,disabled:!0},[n.l.required]],price:["",[n.l.required]],size_name:[""],qty_remain:["100",[n.l.required]],highlight:[""]}),this.loaddata_size(),this.loaddata(this.page)}get errorControl(){return this.ionicForm.controls}loaddata_size(){this.ports=[{id:1,size:"\u0e40\u0e25\u0e47\u0e01"},{id:2,size:"\u0e43\u0e2b\u0e0d\u0e48"}]}submitForm(){if(this.isSubmitted=!0,!this.ionicForm.valid)return console.log("Please provide all the required values!"),!1;{let i;i=this.ionicForm.controls.id.value?"update":"insert",this.sub=this.mtdSv.crudmtdnumberdetail(this.ionicForm.value,i).subscribe(t=>{if(null!==t){if("insert"===i)"ok"===t.status?this.data.unshift({id:t.id,mtd_number_id:this.ionicForm.controls.mtd_number_id.value,number:this.ionicForm.controls.number.value,mtd_size_id:this.ionicForm.controls.mtd_size_id.value.id,size_name:this.ionicForm.controls.mtd_size_id.value.size,qty:this.ionicForm.controls.qty.value,price:this.ionicForm.controls.price.value,qty_remain:this.ionicForm.controls.qty_remain.value,update_flg:0,highlight:!0}):this.configSv.ChkformAlert(t.message);else if("update"===i)if("ok"===t.status){let i;i=this.data.filter(i=>i.id==t.id),i.forEach(i=>{for(const[t,e]of Object.entries(i))"mtd_size_id"===t?i[t]=this.ionicForm.controls[t].value.id:"size_name"===t?i[t]=this.ionicForm.controls.mtd_size_id.value.size:"update_flg"===t?this.ionicForm.controls.qty.enable():i[t]=this.ionicForm.controls[t].value})}else this.configSv.ChkformAlert(t.message);"ok"===t.status&&this.configSv.ChkformAlert(t.message)}},i=>{console.log(JSON.stringify(i))},()=>{this.refreshForm()})}}ngOnDestroy(){this.sub.unsubscribe()}refreshForm(){this.ionicForm.reset({qty:0,mtd_number_id:this.color_id,qty_remain:100}),this.ionicForm.controls.qty.disable(),this.isSubmitted=!1}loaddata(i,t){let e;this.sub=this.mtdSv.getmtd(6,i,this.limit,this.color_id).subscribe(i=>{null!==i&&(this.maxpadding=i.maxpadding,e=i.limit,this.data=this.data.concat(i.data_detail.map(i=>Object.assign({},i))),t&&t.target.complete())})}selectData(i){let t;t=this.data.filter(t=>t.id==i),t.forEach(i=>{for(const[t,e]of Object.entries(i))if("mtd_size_id"===t){let i=this.ports.filter(function(i){return i.id==e})[0];this.portControl.setValue(i)}else"update_flg"===t?"1"===e?this.ionicForm.controls.qty.disable():this.ionicForm.controls.qty.enable():this.ionicForm.controls[t].setValue(e)})}cancelData(i){return Object(l.a)(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",message:"\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e40\u0e25\u0e02\u0e23\u0e30\u0e1a\u0e1a\u0e17\u0e35\u0e48 "+i+" ? ",inputs:[{name:"cause",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}],buttons:[{text:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",handler:i=>{console.log("cancel ",i)}},{text:"\u0e15\u0e01\u0e25\u0e07",handler:t=>{t.cause?this.sub=this.mtdSv.crudmtdnumberdetail(i,"cancel",t.cause).subscribe(i=>{this.configSv.ChkformAlert(i.message)},i=>{console.log(JSON.stringify(i))},()=>{this.data=this.data.filter(t=>t.id!==i),this.refreshForm()}):this.configSv.ChkformAlert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e14\u0e49\u0e27\u0e22")}}]})).present()})}doInfinite(i){this.page++,this.loaddata(this.page*this.limit,i),this.page===this.maxpadding&&(i.target.disabled=!0)}}return i.\u0275fac=function(t){return new(t||i)(c.Kb(r.bb),c.Kb(s.a),c.Kb(n.b),c.Kb(a.a),c.Kb(b.a),c.Kb(r.a))},i.\u0275cmp=c.Eb({type:i,selectors:[["app-mtdnumberdetail"]],decls:69,vars:15,consts:[["slot","start"],["slot","primary"],[3,"click"],["slot","icon-only","src","./assets/icons/refresh.svg"],["slot","icon-only","src","./assets/icons/save.svg"],["heading","\u0e41\u0e1a\u0e1a\u0e1f\u0e2d\u0e23\u0e4c\u0e21","id","tab1"],["novalidate","",3,"formGroup"],["type","hidden","formControlName","mtd_number_id"],["fixed",""],["type","text","formControlName","id","disabled","",1,"IDnoshowBG"],["position","floating",1,"showlabel"],["formControlName","number","type","number"],["class","error",4,"ngIf"],["interface","floating","item-content","","formControlName","mtd_size_id","itemValueField","id","itemTextField","size","closeButtonText","\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",3,"items","canSearch"],["formControlName","qty","type","number"],["formControlName","price","type","number"],["formControlName","qty_remain","type","number"],["formControlName","tmpnumber_qty","type","number"],["heading","\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14","id","tab2"],["scrollY","true","id","myFixZone"],["placeholder","\u0e04\u0e49\u0e19\u0e2b\u0e32...","animated","true",3,"ngModel","ngModelChange"],[1,"content_alert"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"error"],[3,"ngClass","click"],["color","primary"],["slot","end","color","success"],["color","danger",3,"click",4,"ngIf"],["color","danger",3,"click"],["slot","end","name","trash"]],template:function(i,t){1&i&&(c.Qb(0,"ion-header"),c.Qb(1,"ion-toolbar"),c.Qb(2,"ion-buttons",0),c.Lb(3,"ion-back-button"),c.Pb(),c.Qb(4,"ion-title"),c.Bc(5),c.Pb(),c.Qb(6,"ion-buttons",1),c.Qb(7,"ion-button",2),c.Yb("click",function(){return t.refreshForm()}),c.Lb(8,"ion-icon",3),c.Pb(),c.Pb(),c.Qb(9,"ion-buttons",1),c.Qb(10,"ion-button",2),c.Yb("click",function(){return t.submitForm()}),c.Lb(11,"ion-icon",4),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(12,"ion-content"),c.Qb(13,"tabset"),c.Qb(14,"tab",5),c.Qb(15,"form",6),c.Lb(16,"input",7),c.Qb(17,"ion-grid",8),c.Qb(18,"ion-row"),c.Qb(19,"ion-col"),c.Bc(20," \u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e1a "),c.Lb(21,"input",9),c.Pb(),c.Pb(),c.Qb(22,"ion-row"),c.Qb(23,"ion-col"),c.Qb(24,"ion-item"),c.Qb(25,"ion-label",10),c.Bc(26,"\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02"),c.Pb(),c.Lb(27,"ion-input",11),c.zc(28,h,2,0,"span",12),c.Pb(),c.Pb(),c.Qb(29,"ion-col"),c.Qb(30,"ion-item"),c.Qb(31,"ion-label",10),c.Bc(32,"\u0e02\u0e19\u0e32\u0e14"),c.Pb(),c.Lb(33,"ionic-selectable",13),c.zc(34,f,2,0,"span",12),c.Pb(),c.Pb(),c.Pb(),c.Qb(35,"ion-row"),c.Qb(36,"ion-col"),c.Qb(37,"ion-item"),c.Qb(38,"ion-label",10),c.Bc(39,"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d"),c.Pb(),c.Lb(40,"ion-input",14),c.zc(41,p,2,0,"span",12),c.Pb(),c.Pb(),c.Qb(42,"ion-col"),c.Qb(43,"ion-item"),c.Qb(44,"ion-label",10),c.Bc(45,"\u0e23\u0e32\u0e04\u0e32"),c.Pb(),c.Lb(46,"ion-input",15),c.zc(47,g,2,0,"span",12),c.Pb(),c.Pb(),c.Qb(48,"ion-col"),c.Qb(49,"ion-item"),c.Qb(50,"ion-label",10),c.Bc(51,"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e17\u0e35\u0e48\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a\u0e44\u0e14\u0e49"),c.Pb(),c.Lb(52,"ion-input",16),c.zc(53,P,2,0,"span",12),c.Pb(),c.Pb(),c.Qb(54,"ion-col"),c.Qb(55,"ion-item"),c.Qb(56,"ion-label",10),c.Bc(57,"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e23\u0e2d\u0e15\u0e31\u0e14\u0e22\u0e2d\u0e14"),c.Pb(),c.Lb(58,"ion-input",17),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(59,"tab",18),c.Qb(60,"div",19),c.Qb(61,"ion-searchbar",20),c.Yb("ngModelChange",function(i){return t.filterTerm=i}),c.Pb(),c.Qb(62,"ion-list"),c.Qb(63,"div",21),c.Bc(64,"**\u0e08\u0e30\u0e25\u0e1a\u0e44\u0e14\u0e49\u0e01\u0e47\u0e15\u0e48\u0e2d\u0e40\u0e21\u0e37\u0e48\u0e2d \u0e22\u0e2d\u0e14\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\u0e40\u0e17\u0e48\u0e32\u0e01\u0e31\u0e1a 0"),c.Pb(),c.zc(65,Q,12,7,"ion-item-sliding",22),c.bc(66,"mySearch"),c.Pb(),c.Qb(67,"ion-infinite-scroll",23),c.Yb("ionInfinite",function(i){return t.doInfinite(i)}),c.Lb(68,"ion-infinite-scroll-content",24),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&i&&(c.zb(5),c.Dc("\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02\u0e02\u0e2d\u0e07\u0e2a\u0e35 ",t.color_name,""),c.zb(10),c.hc("formGroup",t.ionicForm),c.zb(13),c.hc("ngIf",t.isSubmitted&&(null==t.errorControl.number.errors?null:t.errorControl.number.errors.required)),c.zb(5),c.hc("items",t.ports)("canSearch",!0),c.zb(1),c.hc("ngIf",t.isSubmitted&&(null==t.errorControl.mtd_size_id.errors?null:t.errorControl.mtd_size_id.errors.required)),c.zb(7),c.hc("ngIf",t.isSubmitted&&(null==t.errorControl.qty.errors?null:t.errorControl.qty.errors.required)),c.zb(6),c.hc("ngIf",t.isSubmitted&&(null==t.errorControl.price.errors?null:t.errorControl.price.errors.required)),c.zb(6),c.hc("ngIf",t.isSubmitted&&(null==t.errorControl.qty_remain.errors?null:t.errorControl.qty_remain.errors.required)),c.zb(8),c.hc("ngModel",t.filterTerm),c.zb(4),c.hc("ngForOf",c.ec(66,11,t.data,t.filterTerm,"number")))},directives:[r.p,r.U,r.h,r.d,r.e,r.T,r.g,r.q,r.m,d.c,d.a,n.m,n.i,n.d,n.a,n.h,n.c,r.o,r.L,r.l,r.v,r.B,r.u,r.db,o.k,u.a,r.M,r.ib,n.j,r.C,o.j,r.s,r.t,r.A,o.i,r.R,r.f,r.z,r.y],pipes:[m.a],styles:[""]}),i})()}];let v=(()=>{class i{}return i.\u0275mod=c.Ib({type:i}),i.\u0275inj=c.Hb({factory:function(t){return new(t||i)},imports:[[s.j.forChild(y)],s.j]}),i})();var z=e("CH/f"),C=e("9N89");let q=(()=>{class i{}return i.\u0275mod=c.Ib({type:i}),i.\u0275inj=c.Hb({factory:function(t){return new(t||i)},imports:[[o.b,n.e,r.W,n.k,v,z.a,C.a,d.b]]}),i})()},X0l9:function(i,t,e){"use strict";e.d(t,"a",function(){return n});var o=e("fXoL");let n=(()=>{class i{transform(t,e,o){return e&&t?i.filter(t,e,o):t}static filter(i,t,e){const o=t.toLowerCase();return i.filter(null==e?function(i){for(let t in i)if(null!==i[t]&&null!=i[t]&&i[t].toString().toLowerCase().includes(o))return!0;return!1}:function(i){return i[e].toString().toLowerCase().includes(o)})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=o.Jb({name:"mySearch",type:i,pure:!1}),i})()}}]);