(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{jNzk:function(i,t,o){"use strict";o.r(t),o.d(t,"SysgroupPageModule",function(){return p});var n=o("ofXK"),e=o("3Pt+"),r=o("TEn/"),s=o("tyNb"),c=o("mrSG"),a=o("fXoL"),l=o("mPU2"),b=o("QmPH"),u=o("cZdB");function d(i,t){1&i&&(a.Qb(0,"span",18),a.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 group_name "),a.Pb())}function h(i,t){if(1&i){const i=a.Rb();a.Qb(0,"ion-item-sliding",19),a.Yb("click",function(){a.tc(i);const o=t.$implicit;return a.ac().selectData(o.id)}),a.Qb(1,"ion-item"),a.Qb(2,"ion-label"),a.Qb(3,"ion-text",20),a.Qb(4,"h3"),a.Bc(5),a.Pb(),a.Pb(),a.Pb(),a.Qb(6,"ion-badge",21),a.Bc(7),a.Pb(),a.Pb(),a.Qb(8,"ion-item-options"),a.Qb(9,"ion-item-option",22),a.Yb("click",function(){a.tc(i);const o=t.$implicit;return a.ac().cancelData(o.id)}),a.Lb(10,"ion-icon",23),a.Bc(11," \u0e25\u0e1a "),a.Pb(),a.Pb(),a.Pb()}if(2&i){const i=t.$implicit;a.hc("ngClass",i.highlight?"newdata":""),a.zb(5),a.Cc(i.group_name),a.zb(2),a.Cc(i.id)}}const m=[{path:"",component:(()=>{class i{constructor(i,t,o,n){this.formBuilder=i,this.configSv=t,this.sysmenuSv=o,this.alertCtrl=n,this.isSubmitted=!1,this.page=0,this.maxpadding=0,this.limit=50,this.data=[]}ngOnInit(){this.ionicForm=this.formBuilder.group({id:[""],group_name:["",[e.l.required]],description:[""],highlight:[""]}),this.loaddata(this.page)}get errorControl(){return this.ionicForm.controls}ngOnDestroy(){this.sub.unsubscribe()}loaddata(i,t){let o;this.sub=this.sysmenuSv.getsysgroup(i,this.limit).subscribe(i=>{null!==i&&(this.maxpadding=i.maxpadding,o=i.limit,this.data=this.data.concat(i.data_detail.map(i=>Object.assign({},i))),t&&t.target.complete())})}refreshForm(){this.ionicForm.reset(),this.isSubmitted=!1}doInfinite(i){this.page++,this.loaddata(this.page*this.limit,i),this.page===this.maxpadding&&(i.target.disabled=!0)}submitForm(){if(this.isSubmitted=!0,!this.ionicForm.valid)return console.log("Please provide all the required values!"),!1;{let i;i=this.ionicForm.controls.id.value?"update":"insert",this.sub=this.sysmenuSv.crudsysgroup(this.ionicForm.value,i).subscribe(t=>{if("insert"===i)this.data.unshift({id:t.id,group_name:this.ionicForm.controls.group_name.value,description:this.ionicForm.controls.description.value,highlight:!0});else if("update"===i){let i;i=this.data.filter(i=>i.id==t.id),i.forEach(i=>{for(const[t,o]of Object.entries(i))i[t]=this.ionicForm.controls[t].value})}this.configSv.ChkformAlert(t.message)},i=>{console.log(JSON.stringify(i))},()=>{this.refreshForm()})}}selectData(i){let t;t=this.data.filter(t=>t.id==i),t.forEach(i=>{for(const[t,o]of Object.entries(i))this.ionicForm.controls[t].setValue(o)})}cancelData(i){return Object(c.a)(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",message:"\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e40\u0e25\u0e02\u0e23\u0e30\u0e1a\u0e1a\u0e17\u0e35\u0e48 "+i+" ? ",inputs:[{name:"cause",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}],buttons:[{text:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",handler:i=>{console.log("cancel ",i)}},{text:"\u0e15\u0e01\u0e25\u0e07",handler:t=>{t.cause?this.sub=this.sysmenuSv.crudsysgroup(i,"cancel",t.cause).subscribe(i=>{this.configSv.ChkformAlert(i.message)},i=>{console.log(JSON.stringify(i))},()=>{this.data=this.data.filter(t=>t.id!==i),this.refreshForm()}):this.configSv.ChkformAlert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e14\u0e49\u0e27\u0e22")}}]})).present()})}}return i.\u0275fac=function(t){return new(t||i)(a.Kb(e.b),a.Kb(l.a),a.Kb(b.a),a.Kb(r.a))},i.\u0275cmp=a.Eb({type:i,selectors:[["app-sysgroup"]],decls:39,vars:7,consts:[["slot","start"],["slot","primary"],[3,"click"],["slot","icon-only","src","./assets/icons/refresh.svg"],["slot","icon-only","src","./assets/icons/save.svg"],["novalidate","",3,"formGroup"],["type","text","formControlName","id","disabled","",1,"IDnoshowBG"],["type","hidden","formControlName","highlight"],["lines","full"],["position","floating"],["formControlName","group_name","type","text"],["class","error",4,"ngIf"],["formControlName","description","type","text"],["scrollY","true","id","myFixZone"],["placeholder","\u0e04\u0e49\u0e19\u0e2b\u0e32...","animated","true",3,"ngModel","ngModelChange"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"error"],[3,"ngClass","click"],["color","primary"],["slot","end","color","success"],["color","danger",3,"click"],["slot","end","name","trash"]],template:function(i,t){1&i&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar"),a.Qb(2,"ion-title"),a.Bc(3,"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"),a.Pb(),a.Qb(4,"ion-buttons",0),a.Lb(5,"ion-menu-button"),a.Pb(),a.Qb(6,"ion-buttons",1),a.Qb(7,"ion-button",2),a.Yb("click",function(){return t.refreshForm()}),a.Lb(8,"ion-icon",3),a.Pb(),a.Pb(),a.Qb(9,"ion-buttons",1),a.Qb(10,"ion-button",2),a.Yb("click",function(){return t.submitForm()}),a.Lb(11,"ion-icon",4),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(12,"form",5),a.Qb(13,"ion-grid"),a.Qb(14,"ion-row"),a.Qb(15,"ion-col"),a.Bc(16," \u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e1a "),a.Lb(17,"input",6),a.Lb(18,"input",7),a.Pb(),a.Pb(),a.Qb(19,"ion-row"),a.Qb(20,"ion-col"),a.Qb(21,"ion-item",8),a.Qb(22,"ion-label",9),a.Bc(23,"group_name"),a.Pb(),a.Lb(24,"ion-input",10),a.zc(25,d,2,0,"span",11),a.Pb(),a.Pb(),a.Qb(26,"ion-col"),a.Qb(27,"ion-item",8),a.Qb(28,"ion-label",9),a.Bc(29,"DESCRIPTION"),a.Pb(),a.Lb(30,"ion-input",12),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(31,"ion-content"),a.Qb(32,"div",13),a.Qb(33,"ion-searchbar",14),a.Yb("ngModelChange",function(i){return t.filterTerm=i}),a.Pb(),a.Qb(34,"ion-list"),a.zc(35,h,12,3,"ion-item-sliding",15),a.bc(36,"filter"),a.Pb(),a.Qb(37,"ion-infinite-scroll",16),a.Yb("ionInfinite",function(i){return t.doInfinite(i)}),a.Lb(38,"ion-infinite-scroll-content",17),a.Pb(),a.Pb(),a.Pb()),2&i&&(a.zb(12),a.hc("formGroup",t.ionicForm),a.zb(13),a.hc("ngIf",t.isSubmitted&&(null==t.errorControl.group_name.errors?null:t.errorControl.group_name.errors.required)),a.zb(8),a.hc("ngModel",t.filterTerm),a.zb(2),a.hc("ngForOf",a.dc(36,4,t.data,t.filterTerm)))},directives:[r.p,r.U,r.T,r.h,r.F,r.g,r.q,e.m,e.i,e.d,r.o,r.L,r.l,e.a,e.h,e.c,r.v,r.B,r.u,r.ib,n.k,r.m,r.M,e.j,r.C,n.j,r.s,r.t,r.A,n.i,r.R,r.f,r.z,r.y],pipes:[u.a],styles:[""]}),i})()}];let g=(()=>{class i{}return i.\u0275mod=a.Ib({type:i}),i.\u0275inj=a.Hb({factory:function(t){return new(t||i)},imports:[[s.j.forChild(m)],s.j]}),i})(),p=(()=>{class i{}return i.\u0275mod=a.Ib({type:i}),i.\u0275inj=a.Hb({factory:function(t){return new(t||i)},imports:[[n.b,e.e,r.W,g,e.k,u.b]]}),i})()}}]);