(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"84vV":function(i,e,t){"use strict";t.d(e,"a",function(){return s});var n=t("fXoL"),r=t("tk/3"),o=t("mPU2");let s=(()=>{class i{constructor(i,e){this.http=i,this.configSv=e,this.getpage=["mtd01.php","mtd_area.php","mtd_producttype.php","mtd_size.php","mtd_shipping.php","mtd_number.php","mtd_numberdetail.php","mtd_product.php","mtd_productdetail.php","mtd_member.php","mtd_green.php"]}getplace(){return this.http.get("./assets/data/place.json")}getmtd(i,e,t=9999999999,n){return this.http.post(this.configSv.ip+this.getpage[i],{padding:e,limit:t,condition:n,type_sql:"read"},{headers:{"Content-Type":"application/json"}})}crudmtd01(i,e,t){let n;return n="cancel"===e||"resetpwd"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,prefix_name:i.prefix_name,name:i.name,surname:i.surname,nickname:i.nickname,group_id:i.group_id.id,userpass:i.username,pic:i.picresizbase64List,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd01.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdarea(i,e,t){let n;return n="cancel"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,area_name:i.area_name,area_name_desc:i.area_name_desc,area_day:i.area_day,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_area.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdproducttype(i,e,t){let n;return n="cancel"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,product_type:i.product_type,product_type_desc:i.product_type_desc,category_id:i.category_id.id,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_producttype.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdsize(i,e,t){let n;return n="cancel"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,size:i.size,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_size.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdshipping(i,e,t){let n;return n="cancel"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,shipping_desc:i.shipping_desc,shipping_price:i.shipping_price,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_shipping.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdnumber(i,e,t){let n;return n="cancel"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,color:i.color,color_acronym:i.color_acronym,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_number.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdnumberdetail(i,e,t){let n;return n="cancel"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,mtd_number_id:i.mtd_number_id,number:i.number,mtd_size_id:i.mtd_size_id.id,qty:i.qty,price:i.price,qty_remain:i.qty_remain,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_numberdetail.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdproduct(i,e,t){let n;return n="cancel"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,product_name:i.product_name,product_desc:i.product_desc,product_pattern:i.product_pattern,product_model:i.product_model,product_color:i.product_color,product_type_id:i.product_type_id.id,pic:i.picresizbase64List,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_product.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdproductdetail(i,e,t){let n;return n="cancel"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,productid:i.productid,mtd_size_id:i.mtd_size_id.id,mtd_product_id:i.mtd_product_id,qty:i.qty,price:i.price,qty_remain:i.qty_remain,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_productdetail.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdmember(i,e,t){let n;return n="cancel"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,member_date:i.member_date,member_idcard:i.member_idcard,member_name:i.member_name,member_surname:i.member_surname,member_nickname:i.member_nickname,member_brithday:i.member_brithday,member_nationality:i.member_nationality,member_race:i.member_race,member_religion:i.member_religion,member_address:i.member_address,member_place:i.member_place,member_tel:i.member_tel,member_email:i.member_email,member_line:i.member_line,member_winname:i.member_winname,mtd_area_id:i.mtd_area_id.id,member_yellow:i.member_yellow,member_countwin:i.member_countwin,pic:i.picresizbase64List,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_member.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdgreen(i,e,t){let n;return n="cancel"===e?{id:i,emp_id:this.configSv.emp_id,type_sql:e,cause:t}:{id:i.id,namewin:i.namewin,mtd_area_id:i.mtd_area_id,qty:i.qty,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_green.php",n,{headers:{"Content-Type":"application/json"}})}}return i.\u0275fac=function(e){return new(e||i)(n.Ub(r.a),n.Ub(o.a))},i.\u0275prov=n.Gb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},yuxE:function(i,e,t){"use strict";t.r(e),t.d(e,"MtdshippingPageModule",function(){return f});var n=t("ofXK"),r=t("3Pt+"),o=t("TEn/"),s=t("tyNb"),p=t("mrSG"),c=t("fXoL"),d=t("84vV"),a=t("mPU2"),m=t("cZdB");function l(i,e){1&i&&(c.Qb(0,"span",17),c.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e02\u0e19\u0e2a\u0e48\u0e07 "),c.Pb())}function h(i,e){1&i&&(c.Qb(0,"span",17),c.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e23\u0e32\u0e04\u0e32\u0e02\u0e19\u0e2a\u0e48\u0e07 "),c.Pb())}function b(i,e){1&i&&(c.Qb(0,"span",17),c.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e23\u0e32\u0e04\u0e32\u0e02\u0e19\u0e2a\u0e48\u0e07\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02 "),c.Pb())}function _(i,e){if(1&i){const i=c.Rb();c.Qb(0,"ion-item-sliding",18),c.Yb("click",function(){c.tc(i);const t=e.$implicit;return c.ac().selectData(t.id)}),c.Qb(1,"ion-item"),c.Qb(2,"ion-label"),c.Qb(3,"ion-text",19),c.Qb(4,"h3"),c.Bc(5),c.Pb(),c.Qb(6,"h3"),c.Bc(7),c.Pb(),c.Pb(),c.Pb(),c.Qb(8,"ion-badge",20),c.Bc(9),c.Pb(),c.Pb(),c.Qb(10,"ion-item-options"),c.Qb(11,"ion-item-option",21),c.Yb("click",function(){c.tc(i);const t=e.$implicit;return c.ac().cancelData(t.id)}),c.Lb(12,"ion-icon",22),c.Bc(13," \u0e25\u0e1a "),c.Pb(),c.Pb(),c.Pb()}if(2&i){const i=e.$implicit;c.hc("ngClass",i.highlight?"newdata":""),c.zb(5),c.Dc("\u0e27\u0e34\u0e18\u0e35 : ",i.shipping_desc,""),c.zb(2),c.Dc("\u0e23\u0e32\u0e04\u0e32 : ",i.shipping_price,""),c.zb(2),c.Cc(i.id)}}const u=[{path:"",component:(()=>{class i{constructor(i,e,t,n){this.mtdSv=i,this.formBuilder=e,this.configSv=t,this.alertCtrl=n,this.isSubmitted=!1,this.data=[],this.page=0,this.maxpadding=0,this.limit=50}ngOnInit(){this.ionicForm=this.formBuilder.group({id:[""],shipping_desc:["",[r.l.required]],shipping_price:["",[r.l.required,r.l.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$")]],highlight:[""]}),this.loaddata(this.page)}get errorControl(){return this.ionicForm.controls}submitForm(){if(this.isSubmitted=!0,!this.ionicForm.valid)return console.log("Please provide all the required values!"),!1;{let i;i=this.ionicForm.controls.id.value?"update":"insert",this.sub=this.mtdSv.crudmtdshipping(this.ionicForm.value,i).subscribe(e=>{if(null!==e){if("insert"===i)"ok"===e.status&&this.data.unshift({id:e.id,shipping_desc:this.ionicForm.controls.shipping_desc.value,shipping_price:this.ionicForm.controls.shipping_price.value,highlight:!0});else if("update"===i&&"ok"===e.status){let i;i=this.data.filter(i=>i.id==e.id),i.forEach(i=>{for(const[e,t]of Object.entries(i))i[e]=this.ionicForm.controls[e].value})}this.configSv.ChkformAlert(e.message)}},i=>{console.log(JSON.stringify(i))},()=>{this.refreshForm()})}}ngOnDestroy(){this.sub.unsubscribe()}refreshForm(){this.ionicForm.reset(),this.isSubmitted=!1}loaddata(i,e){let t;this.sub=this.mtdSv.getmtd(4,i,this.limit).subscribe(i=>{null!==i&&(this.maxpadding=i.maxpadding,t=i.limit,this.data=this.data.concat(i.data_detail.map(i=>Object.assign({},i))),e&&e.target.complete())})}selectData(i){let e;e=this.data.filter(e=>e.id==i),e.forEach(i=>{for(const[e,t]of Object.entries(i))this.ionicForm.controls[e].setValue(t)})}cancelData(i){return Object(p.a)(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",message:"\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e40\u0e25\u0e02\u0e23\u0e30\u0e1a\u0e1a\u0e17\u0e35\u0e48 "+i+" ? ",inputs:[{name:"cause",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}],buttons:[{text:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",handler:i=>{console.log("cancel ",i)}},{text:"\u0e15\u0e01\u0e25\u0e07",handler:e=>{e.cause?this.sub=this.mtdSv.crudmtdshipping(i,"cancel",e.cause).subscribe(i=>{this.configSv.ChkformAlert(i.message)},i=>{console.log(JSON.stringify(i))},()=>{this.data=this.data.filter(e=>e.id!==i),this.refreshForm()}):this.configSv.ChkformAlert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e14\u0e49\u0e27\u0e22")}}]})).present()})}doInfinite(i){this.page++,this.loaddata(this.page*this.limit,i),this.page===this.maxpadding&&(i.target.disabled=!0)}}return i.\u0275fac=function(e){return new(e||i)(c.Kb(d.a),c.Kb(r.b),c.Kb(a.a),c.Kb(o.a))},i.\u0275cmp=c.Eb({type:i,selectors:[["app-mtdshipping"]],decls:40,vars:9,consts:[["slot","start"],["slot","primary"],[3,"click"],["slot","icon-only","src","./assets/icons/refresh.svg"],["slot","icon-only","src","./assets/icons/save.svg"],["novalidate","",3,"formGroup"],["fixed",""],["type","text","formControlName","id","disabled","",1,"IDnoshowBG"],["position","floating",1,"showlabel"],["formControlName","shipping_desc","type","text"],["class","error",4,"ngIf"],["formControlName","shipping_price","type","text"],["scrollY","true","id","myFixZone"],["placeholder","\u0e04\u0e49\u0e19\u0e2b\u0e32...","animated","true",3,"ngModel","ngModelChange"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"error"],[3,"ngClass","click"],["color","primary"],["slot","end","color","success"],["color","danger",3,"click"],["slot","end","name","trash"]],template:function(i,e){1&i&&(c.Qb(0,"ion-header"),c.Qb(1,"ion-toolbar"),c.Qb(2,"ion-buttons",0),c.Lb(3,"ion-menu-button"),c.Pb(),c.Qb(4,"ion-title"),c.Bc(5,"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 \u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e02\u0e19\u0e2a\u0e48\u0e07"),c.Pb(),c.Qb(6,"ion-buttons",1),c.Qb(7,"ion-button",2),c.Yb("click",function(){return e.refreshForm()}),c.Lb(8,"ion-icon",3),c.Pb(),c.Pb(),c.Qb(9,"ion-buttons",1),c.Qb(10,"ion-button",2),c.Yb("click",function(){return e.submitForm()}),c.Lb(11,"ion-icon",4),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(12,"form",5),c.Qb(13,"ion-grid",6),c.Qb(14,"ion-row"),c.Qb(15,"ion-col"),c.Bc(16," \u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e1a "),c.Lb(17,"input",7),c.Pb(),c.Pb(),c.Qb(18,"ion-row"),c.Qb(19,"ion-col"),c.Qb(20,"ion-item"),c.Qb(21,"ion-label",8),c.Bc(22,"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e02\u0e19\u0e2a\u0e48\u0e07"),c.Pb(),c.Lb(23,"ion-input",9),c.zc(24,l,2,0,"span",10),c.Pb(),c.Pb(),c.Qb(25,"ion-col"),c.Qb(26,"ion-item"),c.Qb(27,"ion-label",8),c.Bc(28,"\u0e23\u0e32\u0e04\u0e32\u0e02\u0e19\u0e2a\u0e48\u0e07"),c.Pb(),c.Lb(29,"ion-input",11),c.zc(30,h,2,0,"span",10),c.zc(31,b,2,0,"span",10),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(32,"ion-content"),c.Qb(33,"div",12),c.Qb(34,"ion-searchbar",13),c.Yb("ngModelChange",function(i){return e.filterTerm=i}),c.Pb(),c.Qb(35,"ion-list"),c.zc(36,_,14,4,"ion-item-sliding",14),c.bc(37,"filter"),c.Pb(),c.Qb(38,"ion-infinite-scroll",15),c.Yb("ionInfinite",function(i){return e.doInfinite(i)}),c.Lb(39,"ion-infinite-scroll-content",16),c.Pb(),c.Pb(),c.Pb()),2&i&&(c.zb(12),c.hc("formGroup",e.ionicForm),c.zb(12),c.hc("ngIf",e.isSubmitted&&(null==e.errorControl.shipping_desc.errors?null:e.errorControl.shipping_desc.errors.required)),c.zb(6),c.hc("ngIf",e.isSubmitted&&(null==e.errorControl.shipping_price.errors?null:e.errorControl.shipping_price.errors.required)),c.zb(1),c.hc("ngIf",e.isSubmitted&&(null==e.errorControl.shipping_price.errors?null:e.errorControl.shipping_price.errors.pattern)),c.zb(3),c.hc("ngModel",e.filterTerm),c.zb(2),c.hc("ngForOf",c.dc(37,6,e.data,e.filterTerm)))},directives:[o.p,o.U,o.h,o.F,o.T,o.g,o.q,r.m,r.i,r.d,o.o,o.L,o.l,r.a,r.h,r.c,o.v,o.B,o.u,o.ib,n.k,o.m,o.M,r.j,o.C,n.j,o.s,o.t,o.A,n.i,o.R,o.f,o.z,o.y],pipes:[m.a],styles:[""]}),i})()}];let g=(()=>{class i{}return i.\u0275mod=c.Ib({type:i}),i.\u0275inj=c.Hb({factory:function(e){return new(e||i)},imports:[[s.j.forChild(u)],s.j]}),i})(),f=(()=>{class i{}return i.\u0275mod=c.Ib({type:i}),i.\u0275inj=c.Hb({factory:function(e){return new(e||i)},imports:[[n.b,r.e,o.W,g,m.b,r.k]]}),i})()}}]);