!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],i=!0,o=!1,r=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done)&&(e.push(s.value),!n||e.length!==n);i=!0);}catch(a){o=!0,r=a}finally{try{i||null==l.return||l.return()}finally{if(o)throw r}}return e}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{TGzO:function(n,o,r){"use strict";r.r(o),r.d(o,"SyssubmenuPageModule",function(){return k});var s=r("ofXK"),l=r("3Pt+"),a=r("TEn/"),c=r("tyNb"),u=r("mrSG"),b=r("fXoL"),m=r("mPU2"),f=r("QmPH"),d=r("JmBq"),h=r("cZdB");function p(t,n){1&t&&(b.Qb(0,"span",24),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 TITLE "),b.Pb())}function g(t,n){1&t&&(b.Qb(0,"span",24),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 URL "),b.Pb())}function v(t,n){1&t&&(b.Qb(0,"span",24),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 SEQ "),b.Pb())}function y(t,n){1&t&&(b.Qb(0,"span",24),b.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e42\u0e22\u0e07 "),b.Pb())}function P(t,n){if(1&t){var e=b.Rb();b.Qb(0,"ion-item-sliding",25),b.Yb("click",function(){b.tc(e);var t=n.$implicit;return b.ac().selectData(t.id)}),b.Qb(1,"ion-item"),b.Qb(2,"ion-label"),b.Qb(3,"ion-text",26),b.Qb(4,"h3"),b.Bc(5),b.Pb(),b.Pb(),b.Qb(6,"p"),b.Bc(7),b.Pb(),b.Qb(8,"p"),b.Bc(9),b.Pb(),b.Pb(),b.Qb(10,"ion-badge",27),b.Bc(11),b.Pb(),b.Pb(),b.Qb(12,"ion-item-options"),b.Qb(13,"ion-item-option",28),b.Yb("click",function(){b.tc(e);var t=n.$implicit;return b.ac().cancelData(t.id)}),b.Lb(14,"ion-icon",29),b.Bc(15," \u0e25\u0e1a "),b.Pb(),b.Pb(),b.Pb()}if(2&t){var i=n.$implicit;b.hc("ngClass",i.highlight?"newdata":""),b.zb(5),b.Cc(i.title),b.zb(2),b.Dc("\u0e25\u0e33\u0e14\u0e31\u0e1a ",i.seq,""),b.zb(2),b.Dc("\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e01\u0e31\u0e1a\u0e40\u0e21\u0e19\u0e39\u0e2b\u0e25\u0e31\u0e01 ",i.title_menu,""),b.zb(2),b.Cc(i.id)}}var Q,C,S,F=[{path:"",component:(Q=function(){function n(t,i,o,r){e(this,n),this.formBuilder=t,this.configSv=i,this.sysmenuSv=o,this.alertCtrl=r,this.isSubmitted=!1,this.page=0,this.maxpadding=0,this.limit=50,this.data=[]}var o,r,s;return o=n,(r=[{key:"ngOnInit",value:function(){this.portControl=this.formBuilder.control("",l.l.required),this.ionicForm=this.formBuilder.group({id:[""],title:["",[l.l.required]],url:["",[l.l.required]],svg:[""],seq:["",[l.l.required,l.l.pattern("^[0-9]+$")]],open:[""],sys_menu_id:this.portControl,title_menu:[""],highlight:[""]}),this.loaddata_mainmenu(this.page),this.loaddata(this.page)}},{key:"submitForm",value:function(){var n,e=this;if(this.isSubmitted=!0,!this.ionicForm.valid)return console.log("Please provide all the required values!"),!1;n=this.ionicForm.controls.id.value?"update":"insert",this.sub=this.sysmenuSv.crudsyssubmenu(this.ionicForm.value,n).subscribe(function(i){"insert"===n?e.data.unshift({id:i.id,title:e.ionicForm.controls.title.value,url:e.ionicForm.controls.url.value,svg:e.ionicForm.controls.svg.value,seq:e.ionicForm.controls.seq.value,open:e.ionicForm.controls.open.value,sys_menu_id:e.ionicForm.controls.sys_menu_id.value.id,title_menu:e.ionicForm.controls.sys_menu_id.value.title,highlight:!0}):"update"===n&&e.data.filter(function(t){return t.id==i.id}).forEach(function(n){for(var i=0,o=Object.entries(n);i<o.length;i++){var r=t(o[i],2),s=r[0];r[1],n[s]=e.ionicForm.controls[s].value,"sys_menu_id"===s&&(n[s]=e.ionicForm.controls[s].value.id),"title_menu"===s&&(n[s]=e.ionicForm.controls.sys_menu_id.value.title)}}),e.configSv.ChkformAlert(i.message)},function(t){console.log(JSON.stringify(t))},function(){e.refreshForm()})}},{key:"refreshForm",value:function(){this.ionicForm.reset(),this.isSubmitted=!1}},{key:"loaddata_mainmenu",value:function(t,n){var e=this;this.sub=this.sysmenuSv.getsysmenu(t).subscribe(function(t){null!==t&&(e.ports=t.data_detail.map(function(t){return Object.assign({},t)}))})}},{key:"loaddata",value:function(t,n){var e=this;this.sub=this.sysmenuSv.getsyssubmenu(t,this.limit).subscribe(function(t){null!==t&&(e.maxpadding=t.maxpadding,t.limit,e.data=e.data.concat(t.data_detail.map(function(t){return Object.assign({},t)})),n&&n.target.complete())})}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}},{key:"doInfinite",value:function(t){this.page++,this.loaddata(this.page*this.limit,t),this.page===this.maxpadding&&(t.target.disabled=!0)}},{key:"selectData",value:function(n){var e=this;this.data.filter(function(t){return t.id==n}).forEach(function(n){for(var i=function(){var n=t(r[o],2),i=n[0],s=n[1];if(e.ionicForm.controls[i].setValue(s),"sys_menu_id"===i){var l=e.ports.filter(function(t){return t.id===s})[0];e.portControl.setValue(l)}},o=0,r=Object.entries(n);o<r.length;o++)i()})}},{key:"cancelData",value:function(t){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var e=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertCtrl.create({header:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",message:"\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e40\u0e25\u0e02\u0e23\u0e30\u0e1a\u0e1a\u0e17\u0e35\u0e48 "+t+" ? ",inputs:[{name:"cause",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}],buttons:[{text:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",handler:function(t){console.log("cancel ",t)}},{text:"\u0e15\u0e01\u0e25\u0e07",handler:function(n){n.cause?e.sub=e.sysmenuSv.crudsyssubmenu(t,"cancel",n.cause).subscribe(function(t){e.configSv.ChkformAlert(t.message)},function(t){console.log(JSON.stringify(t))},function(){e.data=e.data.filter(function(n){return n.id!==t}),e.refreshForm()}):e.configSv.ChkformAlert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e14\u0e49\u0e27\u0e22")}}]});case 2:n.sent.present();case 3:case"end":return n.stop()}},n,this)}))}},{key:"errorControl",get:function(){return this.ionicForm.controls}}])&&i(o.prototype,r),s&&i(o,s),n}(),Q.\u0275fac=function(t){return new(t||Q)(b.Kb(l.b),b.Kb(m.a),b.Kb(f.a),b.Kb(a.a))},Q.\u0275cmp=b.Eb({type:Q,selectors:[["app-syssubmenu"]],decls:67,vars:13,consts:[["slot","start"],["slot","primary"],[3,"click"],["slot","icon-only","src","./assets/icons/refresh.svg"],["slot","icon-only","src","./assets/icons/save.svg"],["novalidate","",3,"formGroup"],["type","text","formControlName","id","disabled","",1,"IDnoshowBG"],["type","hidden","formControlName","highlight"],["lines","full"],["position","floating"],["formControlName","title","type","text"],["class","error",4,"ngIf"],["formControlName","url","type","text"],["formControlName","svg","type","text"],["formControlName","seq","type","number"],["formControlName","open","interface","popover","value",""],["value",""],["value","true"],["interface","popover","item-content","","formControlName","sys_menu_id","itemValueField","id","itemTextField","title","clearButtonText","\u0e25\u0e49\u0e32\u0e07\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25","closeButtonText","\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",3,"items","canSearch","canClear"],["scrollY","true","id","myFixZone"],["placeholder","\u0e04\u0e49\u0e19\u0e2b\u0e32...","animated","true",3,"ngModel","ngModelChange"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"error"],[3,"ngClass","click"],["color","primary"],["slot","end","color","success"],["color","danger",3,"click"],["slot","end","name","trash"]],template:function(t,n){1&t&&(b.Qb(0,"ion-header"),b.Qb(1,"ion-toolbar"),b.Qb(2,"ion-title"),b.Bc(3,"\u0e40\u0e21\u0e19\u0e39\u0e22\u0e48\u0e2d\u0e22"),b.Pb(),b.Qb(4,"ion-buttons",0),b.Lb(5,"ion-menu-button"),b.Pb(),b.Qb(6,"ion-buttons",1),b.Qb(7,"ion-button",2),b.Yb("click",function(){return n.refreshForm()}),b.Lb(8,"ion-icon",3),b.Pb(),b.Pb(),b.Qb(9,"ion-buttons",1),b.Qb(10,"ion-button",2),b.Yb("click",function(){return n.submitForm()}),b.Lb(11,"ion-icon",4),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(12,"form",5),b.Qb(13,"ion-grid"),b.Qb(14,"ion-row"),b.Qb(15,"ion-col"),b.Bc(16," \u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e1a "),b.Lb(17,"input",6),b.Lb(18,"input",7),b.Pb(),b.Pb(),b.Qb(19,"ion-row"),b.Qb(20,"ion-col"),b.Qb(21,"ion-item",8),b.Qb(22,"ion-label",9),b.Bc(23,"TITLE"),b.Pb(),b.Lb(24,"ion-input",10),b.zc(25,p,2,0,"span",11),b.Pb(),b.Pb(),b.Qb(26,"ion-col"),b.Qb(27,"ion-item",8),b.Qb(28,"ion-label",9),b.Bc(29,"URL"),b.Pb(),b.Lb(30,"ion-input",12),b.zc(31,g,2,0,"span",11),b.Pb(),b.Pb(),b.Qb(32,"ion-col"),b.Qb(33,"ion-item",8),b.Qb(34,"ion-label",9),b.Bc(35,"SVG"),b.Pb(),b.Lb(36,"ion-input",13),b.Pb(),b.Pb(),b.Qb(37,"ion-col"),b.Qb(38,"ion-item",8),b.Qb(39,"ion-label",9),b.Bc(40,"SEQ"),b.Pb(),b.Lb(41,"ion-input",14),b.zc(42,v,2,0,"span",11),b.Pb(),b.Pb(),b.Qb(43,"ion-col"),b.Qb(44,"ion-item",8),b.Qb(45,"ion-label",9),b.Bc(46,"\u0e40\u0e1b\u0e47\u0e19\u0e40\u0e21\u0e19\u0e39\u0e22\u0e48\u0e2d\u0e22\u0e43\u0e0a\u0e48\u0e44\u0e2b\u0e21??"),b.Pb(),b.Qb(47,"ion-select",15),b.Qb(48,"ion-select-option",16),b.Bc(49,"\u0e44\u0e21\u0e48\u0e40\u0e1b\u0e47\u0e19"),b.Pb(),b.Qb(50,"ion-select-option",17),b.Bc(51,"\u0e40\u0e1b\u0e47\u0e19"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(52,"ion-row"),b.Qb(53,"ion-col"),b.Qb(54,"ion-item"),b.Qb(55,"ion-label"),b.Bc(56,"\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e42\u0e22\u0e07\u0e40\u0e21\u0e19\u0e39\u0e2b\u0e25\u0e31\u0e01"),b.Pb(),b.Lb(57,"ionic-selectable",18),b.Pb(),b.zc(58,y,2,0,"span",11),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(59,"ion-content"),b.Qb(60,"div",19),b.Qb(61,"ion-searchbar",20),b.Yb("ngModelChange",function(t){return n.filterTerm=t}),b.Pb(),b.Qb(62,"ion-list"),b.zc(63,P,16,5,"ion-item-sliding",21),b.bc(64,"filter"),b.Pb(),b.Qb(65,"ion-infinite-scroll",22),b.Yb("ionInfinite",function(t){return n.doInfinite(t)}),b.Lb(66,"ion-infinite-scroll-content",23),b.Pb(),b.Pb(),b.Pb()),2&t&&(b.zb(12),b.hc("formGroup",n.ionicForm),b.zb(13),b.hc("ngIf",n.isSubmitted&&(null==n.errorControl.title.errors?null:n.errorControl.title.errors.required)),b.zb(6),b.hc("ngIf",n.isSubmitted&&(null==n.errorControl.url.errors?null:n.errorControl.url.errors.required)),b.zb(11),b.hc("ngIf",n.isSubmitted&&(null==n.errorControl.seq.errors?null:n.errorControl.seq.errors.required)),b.zb(15),b.hc("items",n.ports)("canSearch",!0)("canClear",!0),b.zb(1),b.hc("ngIf",n.isSubmitted&&(null==n.errorControl.sys_menu_id.errors?null:n.errorControl.sys_menu_id.errors.required)),b.zb(3),b.hc("ngModel",n.filterTerm),b.zb(2),b.hc("ngForOf",b.dc(64,10,n.data,n.filterTerm)))},directives:[a.p,a.U,a.T,a.h,a.F,a.g,a.q,l.m,l.i,l.d,a.o,a.L,a.l,l.a,l.h,l.c,a.v,a.B,a.u,a.ib,s.k,a.db,a.N,a.hb,a.O,d.a,a.m,a.M,l.j,a.C,s.j,a.s,a.t,a.A,s.i,a.R,a.f,a.z,a.y],pipes:[h.a],styles:[""]}),Q)}],B=((C=function t(){e(this,t)}).\u0275mod=b.Ib({type:C}),C.\u0275inj=b.Hb({factory:function(t){return new(t||C)},imports:[[c.j.forChild(F)],c.j]}),C),_=r("CH/f"),k=((S=function t(){e(this,t)}).\u0275mod=b.Ib({type:S}),S.\u0275inj=b.Hb({factory:function(t){return new(t||S)},imports:[[s.b,l.e,a.W,B,l.k,h.b,_.a]]}),S)}}])}();