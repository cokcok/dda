(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"84vV":function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("fXoL"),o=i("tk/3"),r=i("mPU2");let s=(()=>{class t{constructor(t,e){this.http=t,this.configSv=e,this.getpage=["mtd01.php","mtd_area.php","mtd_producttype.php","mtd_size.php","mtd_shipping.php","mtd_number.php","mtd_numberdetail.php","mtd_product.php","mtd_productdetail.php","mtd_member.php","mtd_green.php"]}getplace(){return this.http.get("./assets/data/place.json")}getmtd(t,e,i=9999999999,n){return this.http.post(this.configSv.ip+this.getpage[t],{padding:e,limit:i,condition:n,type_sql:"read"},{headers:{"Content-Type":"application/json"}})}crudmtd01(t,e,i){let n;return n="cancel"===e||"resetpwd"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,prefix_name:t.prefix_name,name:t.name,surname:t.surname,nickname:t.nickname,group_id:t.group_id.id,userpass:t.username,pic:t.picresizbase64List,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd01.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdarea(t,e,i){let n;return n="cancel"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,area_name:t.area_name,area_name_desc:t.area_name_desc,area_day:t.area_day,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_area.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdproducttype(t,e,i){let n;return n="cancel"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,product_type:t.product_type,product_type_desc:t.product_type_desc,category_id:t.category_id.id,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_producttype.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdsize(t,e,i){let n;return n="cancel"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,size:t.size,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_size.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdshipping(t,e,i){let n;return n="cancel"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,shipping_desc:t.shipping_desc,shipping_price:t.shipping_price,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_shipping.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdnumber(t,e,i){let n;return n="cancel"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,color:t.color,color_acronym:t.color_acronym,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_number.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdnumberdetail(t,e,i){let n;return n="cancel"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,mtd_number_id:t.mtd_number_id,number:t.number,mtd_size_id:t.mtd_size_id.id,qty:t.qty,price:t.price,qty_remain:t.qty_remain,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_numberdetail.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdproduct(t,e,i){let n;return n="cancel"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,product_name:t.product_name,product_desc:t.product_desc,product_pattern:t.product_pattern,product_model:t.product_model,product_color:t.product_color,product_type_id:t.product_type_id.id,pic:t.picresizbase64List,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_product.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdproductdetail(t,e,i){let n;return n="cancel"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,productid:t.productid,mtd_size_id:t.mtd_size_id.id,mtd_product_id:t.mtd_product_id,qty:t.qty,price:t.price,qty_remain:t.qty_remain,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_productdetail.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdmember(t,e,i){let n;return n="cancel"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,member_date:t.member_date,member_idcard:t.member_idcard,member_name:t.member_name,member_surname:t.member_surname,member_nickname:t.member_nickname,member_brithday:t.member_brithday,member_nationality:t.member_nationality,member_race:t.member_race,member_religion:t.member_religion,member_address:t.member_address,member_place:t.member_place,member_tel:t.member_tel,member_email:t.member_email,member_line:t.member_line,member_winname:t.member_winname,mtd_area_id:t.mtd_area_id.id,member_yellow:t.member_yellow,member_countwin:t.member_countwin,pic:t.picresizbase64List,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_member.php",n,{headers:{"Content-Type":"application/json"}})}crudmtdgreen(t,e,i){let n;return n="cancel"===e?{id:t,emp_id:this.configSv.emp_id,type_sql:e,cause:i}:{id:t.id,namewin:t.namewin,mtd_area_id:t.mtd_area_id,qty:t.qty,emp_id:this.configSv.emp_id,type_sql:e},this.http.post(this.configSv.ip+"mtd_green.php",n,{headers:{"Content-Type":"application/json"}})}}return t.\u0275fac=function(e){return new(e||t)(n.Ub(o.a),n.Ub(r.a))},t.\u0275prov=n.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"nYq/":function(t,e,i){"use strict";i.r(e),i.d(e,"MtdnumberPageModule",function(){return g});var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),c=i("mrSG"),d=i("fXoL"),a=i("84vV"),p=i("mPU2"),m=i("cZdB");function l(t,e){1&t&&(d.Qb(0,"span",18),d.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e2a\u0e35 "),d.Pb())}function b(t,e){1&t&&(d.Qb(0,"span",18),d.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e2d\u0e31\u0e01\u0e29\u0e23\u0e22\u0e48\u0e2d \u0e2a\u0e35 "),d.Pb())}function h(t,e){if(1&t){const t=d.Rb();d.Qb(0,"ion-item-option",24),d.Yb("click",function(){d.tc(t);const e=d.ac().$implicit;return d.ac().cancelData(e.id)}),d.Lb(1,"ion-icon",25),d.Bc(2," \u0e25\u0e1a "),d.Pb()}}function u(t,e){if(1&t){const t=d.Rb();d.Qb(0,"ion-item-sliding",19),d.Yb("click",function(){d.tc(t);const i=e.$implicit;return d.ac().selectData(i.id)}),d.Qb(1,"ion-item"),d.Qb(2,"ion-label"),d.Qb(3,"ion-text",20),d.Qb(4,"h3"),d.Bc(5),d.Pb(),d.Qb(6,"h3"),d.Bc(7),d.Pb(),d.Pb(),d.Pb(),d.Qb(8,"ion-badge",21),d.Bc(9),d.Pb(),d.Pb(),d.Qb(10,"ion-item-options"),d.Qb(11,"ion-item-option",2),d.Yb("click",function(){d.tc(t);const i=e.$implicit;return d.ac().addData(i.id,i.color)}),d.Lb(12,"ion-icon",22),d.Bc(13," \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02 "),d.Pb(),d.zc(14,h,3,0,"ion-item-option",23),d.Pb(),d.Pb()}if(2&t){const t=e.$implicit;d.hc("ngClass",t.highlight?"newdata":""),d.zb(5),d.Dc("\u0e2a\u0e35 : ",t.color,""),d.zb(2),d.Dc("\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e22\u0e48\u0e2d : ",t.color_acronym,""),d.zb(2),d.Cc(t.id),d.zb(5),d.hc("ngIf",0==t.number_qty)}}const _=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o){this.mtdSv=t,this.formBuilder=e,this.configSv=i,this.alertCtrl=n,this.navCtrl=o,this.isSubmitted=!1,this.data=[],this.page=0,this.maxpadding=0,this.limit=50}ngOnInit(){this.ionicForm=this.formBuilder.group({id:[""],color:["",[o.l.required]],color_acronym:["",[o.l.required]],number_qty:[""],highlight:[""]}),this.loaddata(this.page)}get errorControl(){return this.ionicForm.controls}submitForm(){if(this.isSubmitted=!0,!this.ionicForm.valid)return console.log("Please provide all the required values!"),!1;{let t;t=this.ionicForm.controls.id.value?"update":"insert",this.sub=this.mtdSv.crudmtdnumber(this.ionicForm.value,t).subscribe(e=>{if(null!==e){if("insert"===t)"ok"===e.status?this.data.unshift({id:e.id,color:this.ionicForm.controls.color.value,color_acronym:this.ionicForm.controls.color_acronym.value,number_qty:0,highlight:!0}):this.configSv.ChkformAlert(e.message);else if("update"===t)if("ok"===e.status){let t;t=this.data.filter(t=>t.id==e.id),t.forEach(t=>{for(const[e,i]of Object.entries(t))t[e]=this.ionicForm.controls[e].value})}else this.configSv.ChkformAlert(e.message);"ok"===e.status&&this.configSv.ChkformAlert(e.message)}},t=>{console.log(JSON.stringify(t))},()=>{this.refreshForm()})}}ngOnDestroy(){this.sub.unsubscribe()}refreshForm(){this.ionicForm.reset(),this.isSubmitted=!1}loaddata(t,e){let i;this.sub=this.mtdSv.getmtd(5,t,this.limit).subscribe(t=>{null!==t&&(this.maxpadding=t.maxpadding,i=t.limit,this.data=this.data.concat(t.data_detail.map(t=>Object.assign({},t))),e&&e.target.complete())})}selectData(t){let e;e=this.data.filter(e=>e.id==t),e.forEach(t=>{for(const[e,i]of Object.entries(t))this.ionicForm.controls[e].setValue(i)})}cancelData(t){return Object(c.a)(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",message:"\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e40\u0e25\u0e02\u0e23\u0e30\u0e1a\u0e1a\u0e17\u0e35\u0e48 "+t+" ? ",inputs:[{name:"cause",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}],buttons:[{text:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",handler:t=>{console.log("cancel ",t)}},{text:"\u0e15\u0e01\u0e25\u0e07",handler:e=>{e.cause?this.sub=this.mtdSv.crudmtdnumber(t,"cancel",e.cause).subscribe(t=>{this.configSv.ChkformAlert(t.message)},t=>{console.log(JSON.stringify(t))},()=>{this.data=this.data.filter(e=>e.id!==t),this.refreshForm()}):this.configSv.ChkformAlert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e43\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e14\u0e49\u0e27\u0e22")}}]})).present()})}doInfinite(t){this.page++,this.loaddata(this.page*this.limit,t),this.page===this.maxpadding&&(t.target.disabled=!0)}addData(t,e){this.navCtrl.navigateForward(["/mtdnumberdetail"],{queryParams:{value:JSON.stringify(this.data.filter(function(e){return e.id==t})),xxx:"aaa"}})}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(a.a),d.Kb(o.b),d.Kb(p.a),d.Kb(r.a),d.Kb(r.bb))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-mtdnumber"]],decls:41,vars:8,consts:[["slot","start"],["slot","primary"],[3,"click"],["slot","icon-only","src","./assets/icons/refresh.svg"],["slot","icon-only","src","./assets/icons/save.svg"],["novalidate","",3,"formGroup"],["fixed",""],["type","text","formControlName","id","disabled","",1,"IDnoshowBG"],["position","floating",1,"showlabel"],["formControlName","color","type","text"],["class","error",4,"ngIf"],["formControlName","color_acronym","type","text"],["scrollY","true","id","myFixZone"],["placeholder","\u0e04\u0e49\u0e19\u0e2b\u0e32...","animated","true",3,"ngModel","ngModelChange"],[1,"content_alert"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"error"],[3,"ngClass","click"],["color","primary"],["slot","end","color","success"],["slot","end","name","add"],["color","danger",3,"click",4,"ngIf"],["color","danger",3,"click"],["slot","end","name","trash"]],template:function(t,e){1&t&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar"),d.Qb(2,"ion-buttons",0),d.Lb(3,"ion-menu-button"),d.Pb(),d.Qb(4,"ion-title"),d.Bc(5,"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 \u0e15\u0e31\u0e27\u0e40\u0e25\u0e02(\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e35)"),d.Pb(),d.Qb(6,"ion-buttons",1),d.Qb(7,"ion-button",2),d.Yb("click",function(){return e.refreshForm()}),d.Lb(8,"ion-icon",3),d.Pb(),d.Pb(),d.Qb(9,"ion-buttons",1),d.Qb(10,"ion-button",2),d.Yb("click",function(){return e.submitForm()}),d.Lb(11,"ion-icon",4),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(12,"form",5),d.Qb(13,"ion-grid",6),d.Qb(14,"ion-row"),d.Qb(15,"ion-col"),d.Bc(16," \u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e1a "),d.Lb(17,"input",7),d.Pb(),d.Pb(),d.Qb(18,"ion-row"),d.Qb(19,"ion-col"),d.Qb(20,"ion-item"),d.Qb(21,"ion-label",8),d.Bc(22,"\u0e2a\u0e35"),d.Pb(),d.Lb(23,"ion-input",9),d.zc(24,l,2,0,"span",10),d.Pb(),d.Pb(),d.Qb(25,"ion-col"),d.Qb(26,"ion-item"),d.Qb(27,"ion-label",8),d.Bc(28,"\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e22\u0e48\u0e2d"),d.Pb(),d.Lb(29,"ion-input",11),d.zc(30,b,2,0,"span",10),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(31,"ion-content"),d.Qb(32,"div",12),d.Qb(33,"ion-searchbar",13),d.Yb("ngModelChange",function(t){return e.filterTerm=t}),d.Pb(),d.Qb(34,"ion-list"),d.Qb(35,"div",14),d.Bc(36,"**\u0e08\u0e30\u0e25\u0e1a\u0e44\u0e14\u0e49\u0e01\u0e47\u0e15\u0e48\u0e2d\u0e40\u0e21\u0e37\u0e48\u0e2d \u0e22\u0e2d\u0e14\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\u0e40\u0e17\u0e48\u0e32\u0e01\u0e31\u0e1a 0"),d.Pb(),d.zc(37,u,15,5,"ion-item-sliding",15),d.bc(38,"filter"),d.Pb(),d.Qb(39,"ion-infinite-scroll",16),d.Yb("ionInfinite",function(t){return e.doInfinite(t)}),d.Lb(40,"ion-infinite-scroll-content",17),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.zb(12),d.hc("formGroup",e.ionicForm),d.zb(12),d.hc("ngIf",e.isSubmitted&&(null==e.errorControl.color.errors?null:e.errorControl.color.errors.required)),d.zb(6),d.hc("ngIf",e.isSubmitted&&(null==e.errorControl.color_acronym.errors?null:e.errorControl.color_acronym.errors.required)),d.zb(3),d.hc("ngModel",e.filterTerm),d.zb(4),d.hc("ngForOf",d.dc(38,5,e.data,e.filterTerm)))},directives:[r.p,r.U,r.h,r.F,r.T,r.g,r.q,o.m,o.i,o.d,r.o,r.L,r.l,o.a,o.h,o.c,r.v,r.B,r.u,r.ib,n.k,r.m,r.M,o.j,r.C,n.j,r.s,r.t,r.A,n.i,r.R,r.f,r.z,r.y],pipes:[m.a],styles:[""]}),t})()}];let f=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(e){return new(e||t)},imports:[[s.j.forChild(_)],s.j]}),t})(),g=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(e){return new(e||t)},imports:[[n.b,o.e,r.W,f,o.k,m.b]]}),t})()}}]);