(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{qsnK:function(t,i,e){"use strict";e.r(i),e.d(i,"Sysgroupmenu01PageModule",function(){return y});var s=e("ofXK"),o=e("3Pt+"),n=e("TEn/"),r=e("tyNb"),a=e("mrSG"),l=e("fXoL"),b=e("mPU2"),c=e("QmPH"),u=e("JmBq"),d=e("cZdB");function h(t,i){1&t&&(l.Qb(0,"span",15),l.Bc(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38 \u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e42\u0e22\u0e07 "),l.Pb())}function m(t,i){if(1&t){const t=l.Rb();l.Qb(0,"ion-item-sliding",16),l.Qb(1,"ion-item"),l.Qb(2,"ion-label"),l.Qb(3,"ion-text",17),l.Qb(4,"h3"),l.Bc(5),l.Pb(),l.Pb(),l.Pb(),l.Qb(6,"ion-badge",18),l.Bc(7),l.Pb(),l.Pb(),l.Qb(8,"ion-item-options"),l.Qb(9,"ion-item-option",19),l.Yb("click",function(){l.tc(t);const e=i.$implicit;return l.ac().deleteData(e.id)}),l.Lb(10,"ion-icon",20),l.Bc(11," \u0e25\u0e1a "),l.Pb(),l.Pb(),l.Pb()}if(2&t){const t=i.$implicit;l.hc("ngClass",t.highlight?"newdata":""),l.zb(5),l.Cc(t.title_show),l.zb(2),l.Cc(t.id)}}const g=[{path:"",component:(()=>{class t{constructor(t,i,e,s,o,n){this.navCtrl=t,this.activatedRoute=i,this.formBuilder=e,this.configSv=s,this.sysmenuSv=o,this.alertCtrl=n,this.isSubmitted=!1,this.page=0,this.maxpadding=0,this.limit=50,this.data=[],this.activatedRoute.queryParams.subscribe(t=>{let i=JSON.parse(t.value);console.log(i),this.group_id=i[0].id,this.group_name=i[0].group_name})}ngOnInit(){this.portControl=this.formBuilder.control("",o.l.required),this.ionicForm=this.formBuilder.group({syssubmenu_id:this.portControl,title_menu:[""],highlight:[""],group_id:[this.group_id]}),this.loaddata_submenu(this.page),this.loaddata(this.page)}get errorControl(){return this.ionicForm.controls}loaddata_submenu(t,i){this.sub=this.sysmenuSv.getsyssubmenu_sysgroupmenu(t,this.group_id,"readsubmenu").subscribe(t=>{null!==t&&(this.ports=t.data_detail.map(t=>Object.assign({},t)))})}loaddata(t,i){let e;this.sub=this.sysmenuSv.getsyssubmenu_sysgroupmenu(t,this.group_id,"read").subscribe(t=>{null!==t&&(this.maxpadding=t.maxpadding,e=t.limit,this.data=t.data_detail.map(t=>Object.assign({},t)),i&&i.target.complete())})}submitForm(){if(this.isSubmitted=!0,!this.ionicForm.valid)return console.log("Please provide all the required values!"),!1;{let t="insert";this.sub=this.sysmenuSv.crudsyssubmenu_sysgroupmenu(this.ionicForm.value,t).subscribe(i=>{"insert"===t&&this.ionicForm.controls.syssubmenu_id.value.forEach((t,e)=>{this.data.unshift({id:i.id[e],title_show:t.title_show,highlight:!0}),this.ports=this.ports.filter(i=>i.id!==t.id)}),this.configSv.ChkformAlert(i.message)},t=>{console.log(JSON.stringify(t))},()=>{this.refreshForm()})}}doInfinite(t){this.page++,this.loaddata(this.page*this.limit,t),this.page===this.maxpadding&&(t.target.disabled=!0)}refreshForm(){this.ionicForm.reset(),this.isSubmitted=!1}deleteData(t){return Object(a.a)(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",message:"\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e40\u0e25\u0e02\u0e23\u0e30\u0e1a\u0e1a\u0e17\u0e35\u0e48 "+t+" ? ",buttons:[{text:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",handler:t=>{console.log("cancel ",t)}},{text:"\u0e15\u0e01\u0e25\u0e07",handler:i=>{this.sub=this.sysmenuSv.crudsyssubmenu_sysgroupmenu(t,"delete").subscribe(t=>{this.configSv.ChkformAlert(t.message)},t=>{console.log(JSON.stringify(t))},()=>{this.data=this.data.filter(i=>i.id!==t),this.refreshForm()})}}]})).present()})}}return t.\u0275fac=function(i){return new(i||t)(l.Kb(n.bb),l.Kb(r.a),l.Kb(o.b),l.Kb(b.a),l.Kb(c.a),l.Kb(n.a))},t.\u0275cmp=l.Eb({type:t,selectors:[["app-sysgroupmenu01"]],decls:31,vars:12,consts:[["slot","start"],["slot","primary"],[3,"click"],["slot","icon-only","src","./assets/icons/refresh.svg"],["slot","icon-only","src","./assets/icons/save.svg"],["novalidate","",3,"formGroup"],["type","hidden","formControlName","highlight"],["type","hidden","formControlName","group_id"],["interface","popover","item-content","","formControlName","syssubmenu_id","itemValueField","id","itemTextField","title_show","clearButtonText","\u0e25\u0e49\u0e32\u0e07\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25","closeButtonText","\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",3,"items","isMultiple","canSearch","canClear"],["class","error",4,"ngIf"],["scrollY","true","id","myFixZone"],["placeholder","\u0e04\u0e49\u0e19\u0e2b\u0e32...","animated","true",3,"ngModel","ngModelChange"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"error"],[3,"ngClass"],["color","primary"],["slot","end","color","success"],["color","danger",3,"click"],["slot","end","name","trash"]],template:function(t,i){1&t&&(l.Qb(0,"ion-header"),l.Qb(1,"ion-toolbar"),l.Qb(2,"ion-buttons",0),l.Lb(3,"ion-back-button"),l.Pb(),l.Qb(4,"ion-title"),l.Bc(5),l.Pb(),l.Qb(6,"ion-buttons",1),l.Qb(7,"ion-button",2),l.Yb("click",function(){return i.refreshForm()}),l.Lb(8,"ion-icon",3),l.Pb(),l.Pb(),l.Qb(9,"ion-buttons",1),l.Qb(10,"ion-button",2),l.Yb("click",function(){return i.submitForm()}),l.Lb(11,"ion-icon",4),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(12,"form",5),l.Lb(13,"input",6),l.Lb(14,"input",7),l.Qb(15,"ion-grid"),l.Qb(16,"ion-row"),l.Qb(17,"ion-col"),l.Qb(18,"ion-item"),l.Qb(19,"ion-label"),l.Bc(20,"\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e42\u0e22\u0e07\u0e40\u0e21\u0e19\u0e39\u0e22\u0e48\u0e2d\u0e22"),l.Pb(),l.Lb(21,"ionic-selectable",8),l.Pb(),l.zc(22,h,2,0,"span",9),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(23,"ion-content"),l.Qb(24,"div",10),l.Qb(25,"ion-searchbar",11),l.Yb("ngModelChange",function(t){return i.filterTerm=t}),l.Pb(),l.Qb(26,"ion-list"),l.zc(27,m,12,3,"ion-item-sliding",12),l.bc(28,"filter"),l.Pb(),l.Qb(29,"ion-infinite-scroll",13),l.Yb("ionInfinite",function(t){return i.doInfinite(t)}),l.Lb(30,"ion-infinite-scroll-content",14),l.Pb(),l.Pb(),l.Pb()),2&t&&(l.zb(5),l.Dc("\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e40\u0e21\u0e19\u0e39\u0e01\u0e31\u0e1a\u0e01\u0e25\u0e38\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49 ",i.group_name,""),l.zb(7),l.hc("formGroup",i.ionicForm),l.zb(9),l.hc("items",i.ports)("isMultiple",!0)("canSearch",!0)("canClear",!0),l.zb(1),l.hc("ngIf",i.isSubmitted&&(null==i.errorControl.syssubmenu_id.errors?null:i.errorControl.syssubmenu_id.errors.required)),l.zb(3),l.hc("ngModel",i.filterTerm),l.zb(2),l.hc("ngForOf",l.dc(28,9,i.data,i.filterTerm)))},directives:[n.p,n.U,n.h,n.d,n.e,n.T,n.g,n.q,o.m,o.i,o.d,o.a,o.h,o.c,n.o,n.L,n.l,n.v,n.B,u.a,s.k,n.m,n.M,n.ib,o.j,n.C,s.j,n.s,n.t,n.A,s.i,n.R,n.f,n.z,n.y],pipes:[d.a],styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(i){return new(i||t)},imports:[[r.j.forChild(g)],r.j]}),t})();var f=e("CH/f");let y=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(i){return new(i||t)},imports:[[s.b,o.e,n.W,f.a,p,o.k,d.b]]}),t})()}}]);